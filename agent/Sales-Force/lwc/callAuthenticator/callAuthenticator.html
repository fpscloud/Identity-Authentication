<template>
    <lightning-card title="Call Authenticator" icon-name="custom:custom14">
        <div class="slds-m-around_medium">
            <p class="slds-m-bottom_medium"> Authenticate yourself to your customer.</p>
            <lightning-layout vertical-align="end" class="slds-m-bottom_small">
                <lightning-layout-item flexibility="grow">
                    <lightning-input type="text" onchange={handlePassKeyChange}
                        label="Customer's One Time ID" value={passKey}></lightning-input>
                        <p class="slds-m-bottom_medium">*Ask the customer for their "One Time ID" and type it into the box above</p>
                        <lightning-layout-item class="slds-p-left_xx-small">
                            <lightning-button variant="brand" label="Submit" onclick={handlePassClick}></lightning-button>
                        </lightning-layout-item>
                    </lightning-layout-item>
            </lightning-layout>
            <template if:true={passPhrase}>
                <lightning-layout vertical-align="end" class="slds-m-bottom_small">
                    <lightning-layout-item flexibility="grow">
                        <lightning-input type="text" label="SECRET ONE TIME PASSCODE" value={passPhrase.pass_phrase} disabled>
                        </lightning-input>
                        <p class="slds-m-bottom_medium"> This code has been generated for the user in the front end.Read this back to the customer.</p>
                    </lightning-layout-item>
                </lightning-layout>
            </template>
<template if:false={passPhrase}>
                <lightning-layout vertical-align="end" class="slds-m-bottom_small">
                    <lightning-layout-item flexibility="grow">
                        <lightning-input type="text" label="SECRET ONE TIME PASSCODE" disabled>
                        </lightning-input>
                        <p class="slds-m-bottom_medium"> This code has been generated for the user in the front end.Read this back to the customer.</p>
                    </lightning-layout-item>
                </lightning-layout>
            </template>
<template if:true={error}>
                <c-error-panel errors={error}></c-error-panel>
            </template>
</div>
</lightning-card>
</template>